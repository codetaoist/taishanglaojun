# 太上老君 - 核心服务环境变量配置示例
# 复制此文件为 .env 并根据实际环境修改配置值

# ===========================================
# 基础服务配置
# ===========================================

# 服务运行模式 (development, testing, production)
APP_MODE=development

# 服务监听端口
SERVER_PORT=8080

# JWT密钥 (生产环境请使用强密钥)
JWT_SECRET=your-super-secret-jwt-key-change-in-production-environment

# ===========================================
# 数据库配置
# ===========================================

# PostgreSQL 主数据库
DB_HOST=localhost
DB_PORT=5432
DB_NAME=taishanglaojun
DB_USER=postgres
DB_PASSWORD=password

# PostgreSQL 只读数据库（可选）
DB_READONLY_HOST=localhost
DB_READONLY_PORT=5432
DB_READONLY_NAME=taishanglaojun_readonly
DB_READONLY_USER=postgres
DB_READONLY_PASSWORD=password

# ===========================================
# Redis配置
# ===========================================

# Redis 主实例
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Redis 缓存实例（可选）
REDIS_CACHE_HOST=localhost
REDIS_CACHE_PORT=6379
REDIS_CACHE_PASSWORD=

# ===========================================
# AI服务配置
# ===========================================

# OpenAI配置
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1

# 百度文心一言配置
BAIDU_API_KEY=your-baidu-api-key
BAIDU_SECRET_KEY=your-baidu-secret-key

# 阿里通义千问配置
ALIBABA_API_KEY=your-alibaba-api-key

# 智谱AI配置
ZHIPU_API_KEY=your-zhipu-api-key

# ===========================================
# 搜索引擎配置
# ===========================================

# Elasticsearch配置
ES_HOST=http://localhost:9200
ES_USERNAME=
ES_PASSWORD=

# ===========================================
# 对象存储配置 (阿里云OSS)
# ===========================================

# 阿里云OSS配置
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
OSS_ACCESS_KEY_ID=your-oss-access-key-id
OSS_ACCESS_KEY_SECRET=your-oss-access-key-secret
OSS_BUCKET=taishang-laojun-bucket
OSS_REGION=cn-hangzhou

# ===========================================
# 消息队列配置
# ===========================================

# RabbitMQ配置（可选）
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# ===========================================
# 邮件服务配置
# ===========================================

# SMTP邮件配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_FROM=noreply@taishanglaojun.com

# ===========================================
# 第三方服务配置
# ===========================================

# 微信小程序配置
WECHAT_APP_ID=your-wechat-app-id
WECHAT_APP_SECRET=your-wechat-app-secret

# 支付宝配置
ALIPAY_APP_ID=your-alipay-app-id
ALIPAY_PRIVATE_KEY=your-alipay-private-key
ALIPAY_PUBLIC_KEY=your-alipay-public-key

# ===========================================
# 监控和日志配置
# ===========================================

# 日志级别 (debug, info, warn, error)
LOG_LEVEL=info

# 启用Prometheus监控
ENABLE_PROMETHEUS=true

# 启用性能分析 (仅开发环境)
ENABLE_PPROF=false

# ===========================================
# 安全配置
# ===========================================

# HTTPS配置
ENABLE_HTTPS=false
TLS_CERT_FILE=
TLS_KEY_FILE=

# 允许的跨域来源
ALLOWED_ORIGINS=http://localhost:3000,https://taishanglaojun.com

# ===========================================
# 开发环境特殊配置
# ===========================================

# 启用调试模式
DEBUG_MODE=true

# 启用SQL调试日志
SQL_DEBUG=true

# 跳过认证（仅开发环境，生产环境请设为false）
SKIP_AUTH=false

# 启用热重载
HOT_RELOAD=true

# ===========================================
# 性能配置
# ===========================================

# 数据库连接池大小
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10

# Redis连接池大小
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5

# 请求超时时间（秒）
REQUEST_TIMEOUT=30

# 最大请求体大小（MB）
MAX_BODY_SIZE=10

# ===========================================
# 限流配置
# ===========================================

# 全局每分钟请求数限制
GLOBAL_RATE_LIMIT=1000

# 每用户每分钟API请求数限制
USER_API_RATE_LIMIT=100

# 每用户每分钟AI请求数限制
USER_AI_RATE_LIMIT=20